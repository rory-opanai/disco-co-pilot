(()=>{var e={};e.id=293,e.ids=[293],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7686:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(8207),t(1163),t(2874);var r=t(7105),n=t(5265),a=t(157),i=t.n(a),l=t(4665),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["call",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8207)),"/Users/roryh/Github/DiscoCoPilot2/disco-co-pilot/frontend/app/call/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1163)),"/Users/roryh/Github/DiscoCoPilot2/disco-co-pilot/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,2874,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/roryh/Github/DiscoCoPilot2/disco-co-pilot/frontend/app/call/page.tsx"],u="/call/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/call/page",pathname:"/call",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9194:(e,s,t)=>{Promise.resolve().then(t.bind(t,3326))},3933:()=>{},684:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,3817,23)),Promise.resolve().then(t.t.bind(t,9323,23)),Promise.resolve().then(t.t.bind(t,2204,23)),Promise.resolve().then(t.t.bind(t,820,23)),Promise.resolve().then(t.t.bind(t,5915,23)),Promise.resolve().then(t.t.bind(t,1611,23))},3326:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p,dynamic:()=>x});var r=t(9899),n=t(5507),a=t(6153);function i({items:e}){return r.jsx("div",{className:"h-96 overflow-y-auto space-y-1",children:e.map((e,s)=>(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("span",{className:"font-medium "+("Customer"===e.speaker?"text-rose-700":"text-sky-700"),children:[e.speaker,":"]})," ",e.text]},s))})}function l({nbq:e,onAction:s}){return e?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"text-sm text-slate-600",children:["Category: ",e.checklist_category]}),r.jsx("div",{className:"text-lg",children:e.question}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{className:"bg-green-600 text-white px-3 py-1 rounded",onClick:()=>s("accept"),children:"Accept (N)"}),r.jsx("button",{className:"bg-slate-300 text-slate-900 px-3 py-1 rounded",onClick:()=>s("skip"),children:"Skip (S)"})]})]}):r.jsx("div",{className:"text-slate-500",children:"Awaiting next suggestion…"})}let o=["Pain","Impact","Current Solution","Desired Outcome","Use Case","Stakeholders","Budget","Timeline","Decision Process","Risks","Metrics","Compliance"];function c({coverage:e}){let s=(0,n.useMemo)(()=>{let s=o.length;return Math.round(o.filter(s=>["known","partial"].includes(e[s])).length/s*100)},[e]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-2",children:["Progress: ",(0,r.jsxs)("span",{className:"font-semibold",children:[s,"%"]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:o.map(s=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full",style:{background:function(e){switch(e){case"known":return"#16a34a";case"partial":return"#f59e0b";default:return"#9ca3af"}}(e[s])}}),r.jsx("span",{children:s})]},s))})]})}function d({sessionId:e,connected:s,transcript:t,coverage:n,nbq:a,onNbqAction:o}){return(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"md:col-span-2 border rounded p-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"font-semibold",children:"Live Transcript"}),r.jsx("div",{className:"text-xs "+(s?"text-green-600":"text-red-600"),children:s?"Connected":"Connecting..."})]}),r.jsx(i,{items:t})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border rounded p-3",children:[r.jsx("div",{className:"font-semibold mb-2",children:"Checklist Progress"}),r.jsx(c,{coverage:n})]}),(0,r.jsxs)("div",{className:"border rounded p-3",children:[r.jsx("div",{className:"font-semibold mb-2",children:"Next Best Question"}),r.jsx(l,{nbq:a,onAction:o}),r.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Hotkeys: N = accept, S = skip"})]})]})]})}function u({open:e,onToggle:s,events:t,onClear:a}){let i=(0,n.useRef)(null);return(0,r.jsxs)("div",{className:"border rounded",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-100",children:[r.jsx("div",{className:"font-medium",children:"Realtime Debug"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"text-xs px-2 py-1 rounded bg-slate-200",onClick:s,children:e?"Hide":"Show"}),r.jsx("button",{className:"text-xs px-2 py-1 rounded bg-slate-200",onClick:a,children:"Clear"})]})]}),e&&(0,r.jsxs)("div",{className:"max-h-64 overflow-auto p-2 text-xs font-mono",children:[0===t.length&&r.jsx("div",{className:"text-slate-500",children:"No events yet…"}),t.map((e,s)=>(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("div",{className:"text-slate-500",children:["[",e.t,"] ",e.type||"event"]}),r.jsx("pre",{className:"whitespace-pre-wrap break-words",children:function(e){try{return JSON.stringify(e,null,2)}catch{return String(e)}}(e.data)})]},s)),r.jsx("div",{ref:i})]})]})}let x="force-dynamic";function m(){let e=(0,a.useSearchParams)(),s=(0,a.useRouter)(),t=e.get("sessionId")||`sess_${Date.now()}`,[i,l]=(0,n.useState)(!1),[o,c]=(0,n.useState)([]),[x,m]=(0,n.useState)({}),[p,h]=(0,n.useState)(null);(0,n.useRef)(o),(0,n.useRef)(x);let[v,j]=(0,n.useState)(!1),[g,f]=(0,n.useState)([]);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-xl font-semibold",children:"Live Discovery"}),r.jsx("button",{onClick:()=>s.push(`/dashboard/${t}`),className:"bg-slate-800 text-white px-3 py-2 rounded",children:"End & View Summary"})]}),r.jsx(d,{sessionId:t,connected:i,transcript:o,coverage:x,nbq:p,onNbqAction:e=>h(null)}),r.jsx(u,{open:v,onToggle:()=>j(e=>!e),events:g,onClear:()=>f([])})]})}function p(){return r.jsx(n.Suspense,{fallback:r.jsx("div",{children:"Loading…"}),children:r.jsx(m,{})})}},6153:(e,s,t)=>{"use strict";var r=t(1545);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},8207:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a,dynamic:()=>n});var r=t(2772);let n=(0,r.createProxy)(String.raw`/Users/roryh/Github/DiscoCoPilot2/disco-co-pilot/frontend/app/call/page.tsx#dynamic`),a=(0,r.createProxy)(String.raw`/Users/roryh/Github/DiscoCoPilot2/disco-co-pilot/frontend/app/call/page.tsx#default`)},1163:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(5023);function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"bg-slate-50 text-slate-900",children:r.jsx("div",{className:"max-w-6xl mx-auto p-4",children:e})})})}t(642),t(8003)},642:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[942,371],()=>t(7686));module.exports=r})();